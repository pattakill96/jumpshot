<!-- Main -->
<div id="main">

  <!-- Post -->
  <article le class="post">
    <header>
      <div class="title">
        <h2><a href="admin-product-edit.php?edit=<[id_prodotto]>">Modifica dettagli prodotto &quot;<[titolo]>&quot;</a></h2>
        <p>Da qui puoi modificare i dettagli del prodotto &quot;<[titolo]>&quot;.</p>
      </div>
    </header>

    <form name="product-edit-form" action="admin-product-edit.php?id_prodotto=<[id_prodotto]>" method="post" enctype="multipart/form-data">
      <div class="row uniform" style="width:50em;margin:auto;">
        <div class="3u 12u$(xsmall)">
          Titolo:
        </div>
        <div class="9u$ 12u$(xsmall)">
          <input type="text" id="titolo" name="titolo" value="<[titolo]>" placeholder="Titolo" required/>
        </div>
        <div class="3u 12u$(xsmall)">
          Descrizione:
        </div>
        <div class="9u$ 12u$(xsmall)">
          <textarea style="display:none;" id="descrizione" name="descrizione" placeholder="Descrizione" style="resize:vertical;"><[descrizione]></textarea>
          <div id="pell" class="pell"></div>
          <h3 style="margin-top:2em;">Anteprima:</h3>
          <div id="text-output" style="margin-bottom:1em;"></div>
        </div>
        <div class="3u 12u$(xsmall)">
          Sviluppatore:
        </div>
        <div class="9u$ 12u$(xsmall)">
          <input type="text" id="sviluppatore" name="sviluppatore" value="<[sviluppatore]>" placeholder="Sviluppatore"/>
        </div>
        <div class="3u 12u$(xsmall)">
          Genere:
        </div>
        <div class="9u$ 12u$(xsmall)">
          <select id="id_categoria" name="id_categoria" value="<[id_categoria]>" required>
            <option value="">- Seleziona genere -</option>
            <option value="1" <[selected1]>>Avventura</option>
            <option value="2" <[selected2]>>Horror</option>
            <option value="3" <[selected3]>>RPG</option>
            <option value="4" <[selected4]>>FPS</option>
            <option value="5" <[selected5]>>Azione</option>
            <option value="6" <[selected6]>>Sport</option>
          </select>
        </div>
        <div class="3u 12u$(xsmall)">
          Prezzo (&euro;):
        </div>
        <div class="9u$ 12u$(xsmall)">
          <input type="number" step="0.01" min="0" id="prezzo" name="prezzo" value="<[prezzo]>" placeholder="Prezzo" style="padding-left:1em;" />
        </div>
        <div class="3u 12u$(xsmall)">
          Disponibilità:
        </div>
        <div class="9u$ 12u$(xsmall)">
          <input type="number" step="0" min="0" id="disponibilita" name="disponibilita" value="<[disponibilita]>" placeholder="Disponibilità" style="padding-left:1em;" />
        </div>
        <div class="3u 12u$(xsmall)">
          Data di uscita:
        </div>
        <div class="9u$ 12u$(xsmall)">
          <input type="date" id="uscita" name="uscita" value="<[uscita]>" placeholder="Data di uscita" style="padding-left:1em;" />
        </div>
        <div class="3u 12u$(xsmall)">
          Immagine di copertina (max 5MB):
        </div>
        <div class="9u$ 12u$(xsmall)">
          <input type="file" id="copertina" name="copertina" accept="image/*" placeholder="Copertina" />
        </div>
        <div class="3u 12u$(xsmall)">
          Wallpaper per recensioni (max 5MB):
        </div>
        <div class="9u$ 12u$(xsmall)">
          <input type="file" id="wallpaper" name="wallpaper" accept="image/*" placeholder="Wallpaper" />
        </div>
        <div class="12u$" style="margin-top:2em;">
          <ul class="actions" style="text-align:center;">
            <li><input type="submit" value="Salva" name="submit" /></li>
            <li><input type="reset" value="Reset" /></li>
            <li style="height:30px;">
              <p><[notifica]></p>
            </li>
          </ul>
        </div>
      </div>
    </form>
  </article>

</div>

<script src="https://unpkg.com/pell"></script>
<script type="text/javascript">

    // WYSIWYG Text editor: Pell

    const editor = pell.init({
      element: document.getElementById('pell'),
      onChange: html => {
        document.getElementById('text-output').innerHTML = html
      },
      styleWithCSS: true,
      actions: [
        'bold',
        'underline',
        'italic',
        'strikethrough',
        'heading1',
        'heading2',
        'paragraph',
        'quote',
        'olist',
        'ulist',
        'code',
        'line',
        {
          name: 'image',
          result: () => {
            const url = window.prompt('Enter the image URL')
            if (url) window.pell.exec('insertImage', ensureHTTP(url))
          }
        },
        {
          name: 'link',
          result: () => {
            const url = window.prompt('Enter the link URL')
            if (url) window.pell.exec('createLink', ensureHTTP(url))
          }
        }
      ],
      classes: {
        actionbar: 'pell-actionbar',
        button: 'pell-button-custom',
        content: 'pell-content'
      }
    })

    // editor.content<HTMLElement>
    // To change the editor's content:
    editor.content.innerHTML = `<[descrizione]>`
</script>
